<?xml version="1.0" encoding="utf-8"?>
<Package xmlns="http://schemas.microsoft.com/appx/manifest/foundation/windows10"
         xmlns:uap="http://schemas.microsoft.com/appx/manifest/uap/windows10"
         xmlns:uap2="http://schemas.microsoft.com/appx/manifest/uap/windows10/2"
         xmlns:uap3="http://schemas.microsoft.com/appx/manifest/uap/windows10/3"
         xmlns:uap4="http://schemas.microsoft.com/appx/manifest/uap/windows10/4"
         xmlns:desktop="http://schemas.microsoft.com/appx/manifest/desktop/windows10"
         xmlns:desktop2="http://schemas.microsoft.com/appx/manifest/desktop/windows10/2"
         xmlns:rescap="http://schemas.microsoft.com/appx/manifest/foundation/windows10/restrictedcapabilities"
         xmlns:rescap2="http://schemas.microsoft.com/appx/manifest/foundation/windows10/restrictedcapabilities/2"
         xmlns:rescap3="http://schemas.microsoft.com/appx/manifest/foundation/windows10/restrictedcapabilities/3"
         xmlns:com="http://schemas.microsoft.com/appx/manifest/com/windows10"
         IgnorableNamespaces="uap uap2 uap3 uap4 desktop desktop2 rescap rescap2 rescap3 com">
  <Identity Name="AppxJava.Jdk" Publisher="CN=William Kent - Internal Publisher" ProcessorArchitecture="x64" ResourceId="neutral" Version="0.0.0.1" />

  <Properties>
    <DisplayName>Java Development Kit</DisplayName>
    <PublisherDisplayName>William Kent</PublisherDisplayName>
    <Logo>Assets\StoreLogo.png</Logo>
  </Properties>

  <Dependencies>
    <TargetDeviceFamily Name="Windows.Desktop" MinVersion="10.0.15063.0" MaxVersionTested="10.0.15063.0"/>
  </Dependencies>
  <Resources>
    <Resource Language="en-us"/>
  </Resources>

  <Capabilities>
    <rescap:Capability Name="runFullTrust" />
  </Capabilities>

  <Applications>
    <Application Id="App" Executable="Launcher\AppxJava.JdkApp.exe" EntryPoint="Windows.FullTrustApplication">
      <uap:VisualElements DisplayName="Java Development Kit" Square150x150Logo="Assets\Square150x150Logo.png" Square44x44Logo="Assets\Square44x44Logo.png"
                          Description="Compile and run code targeting Java SE version 1.8." BackgroundColor="#333333"/>

      <Extensions>
        <com:Extension Category="windows.comServer">
          <com:ComServer>
            <com:ExeServer Executable="Launcher\AppxJava.ComLauncher.exe" DisplayName="OpenJDK COM Server">
              <com:Class Id="67CE3994-EC0A-4364-B8BD-DC6D1C61FCF0" DisplayName="OpenJDK Java Launcher"
                         ProgId="Sunburst.JavaLauncher.1" VersionIndependentProgId="Sunburst.JavaLauncher" />
              <com:Class Id="5EDE5D2D-C324-4970-86B3-6E006D4DD824" DisplayName="OpenJDK Development Tool Launcher"
                         ProgId="Sunburst.JdkToolLauncher.1" VersionIndependentProgId="Sunburst.JdkToolLauncher" />
            </com:ExeServer>

            <com:ProgId Id="Sunburst.JavaLauncher" CurrentVersion="Sunburst.JavaLauncher.1" />
            <com:ProgId Id="Sunburst.JdkToolLauncher" CurrentVersion="Sunburst.JdkToolLauncher.1" />
            <com:ProgId Clsid="67CE3994-EC0A-4364-B8BD-DC6D1C61FCF0" Id="Sunburst.JavaLauncher.1" />
            <com:ProgId Clsid="5EDE5D2D-C324-4970-86B3-6E006D4DD824" Id="Sunburst.JdkToolLauncher.1" />
          </com:ComServer>
        </com:Extension>

        <com:Extension Category="windows.comInterface">
          <com:ComInterface>
            <com:Interface Id="D704B65E-8559-4087-88C7-0A5C7ADB2407" UseUniversalMarshaler="true">
              <com:TypeLib Id="B140CC3A-1AAE-4A88-8C63-3D51EF60BE41" VersionNumber="1.0" />
            </com:Interface>

            <com:Interface Id="BB3B0B30-9FA2-4D27-856A-4190FF19CA8B" UseUniversalMarshaler="true">
              <com:TypeLib Id="B140CC3A-1AAE-4A88-8C63-3D51EF60BE41" VersionNumber="1.0" />
            </com:Interface>

            <com:TypeLib Id="B140CC3A-1AAE-4A88-8C63-3D51EF60BE41">
              <com:Version DisplayName="OpenJDK App" VersionNumber="1.0" LocaleId="0" LibraryFlag="0">
                <com:Win32Path Path="Launcher\AppxJava.ComLauncher.exe" ResourceId="1" />
                <com:Win64Path Path="Launcher\AppxJava.ComLauncher.exe" ResourceId="1" />
              </com:Version>
            </com:TypeLib>
          </com:ComInterface>
        </com:Extension>
      </Extensions>
    </Application>
  </Applications>
</Package>
